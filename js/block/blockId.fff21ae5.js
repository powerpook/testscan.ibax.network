var a=(a,e,t)=>new Promise(((l,n)=>{var s=a=>{try{o(t.next(a))}catch(e){n(e)}},i=a=>{try{o(t.throw(a))}catch(e){n(e)}},o=a=>a.done?l(a.value):Promise.resolve(a.value).then(s,i);o((t=t.apply(a,e)).next())}));import{i as e,B as t,C as l,J as n}from"../element-plus/element-plus.d5c2709d.js";import"../vue/vue.f1679ee2.js";import{_ as s}from"../node/node.8b7398ea.js";import{u as i}from"../vue-router/vue-router.2e4e5314.js";import{h as o,g as c,i as r,j as d,a as p,f as h,k as b}from"../../assets/index.803d13ea.js";import{_ as u}from"../vue-qr/vue-qr.811c440f.js";import{d as m,X as v,w as f,a0 as k,o as _,c as j,a as g,U as y,L as x,u as w,P as $,Q as z,S as C,a4 as A}from"../@vue/@vue.43bf68a9.js";import{a as N}from"../axios/axios.3ae77db0.js";import"../@vueuse/@vueuse.f1890054.js";import"../@element-plus/@element-plus.ef54b136.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@intlify/@intlify.d33e2919.js";import"../@ctrl/@ctrl.17547d95.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.4f18ce48.js";import"../vuex/vuex.df607009.js";import"../dayjs/dayjs.206dce34.js";import"../echarts/echarts.1c1b7efd.js";import"../zrender/zrender.c7ccb335.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.fd53ebfa.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.08c7aea6.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const R={class:"chain"},T={key:0,class:"data-box"},U=g("img",{src:s,alt:"node"},null,-1),X={key:1,class:"chain"},B={class:"panel-content chain-content"},D={class:"panel-content-left panel-content-left-mobile"},I={class:"panel-content-chart"},P={class:"panel-content-chart-box"},q={class:"chain-line"},H={class:"panel-item-child-title"},O={class:"chain-line"},S={class:"chain-line"},J={class:"chain-content-detail-item-box-label"},L={class:"chain-line-time"},Q={class:"chain-line-time-utc"},V={class:"chain-line"},E={class:"chain-line"},F={class:"chain-line"},G={class:"chain-line-img"},K=["src"],M={class:"chain-line"},W={class:"chain-content-detail-item-box-label"},Y={class:"chain-line-beyond"},Z={class:"panel-content-right"},aa={class:"panel-content-chart chain-content-right"},ea={class:"panel-content-chart-box chain-content-hash"},ta={class:"chain-content-detail"},la={class:"chain-content-detail-item"},na={class:"chain-content-detail-item-box"},sa={class:"chain-content-detail-item-box-label"},ia=g("div",{class:"chain-content-detail-item-box"},[g("i",{class:"iconfont el-a-blocksize"})],-1),oa={class:"chain-content-detail-item"},ca={class:"chain-content-detail-item-box"},ra=g("div",{class:"chain-content-detail-item-box"},[g("i",{class:"iconfont el-a-numberoftransactions"})],-1),da={class:"chain-line-box"},pa={class:"chain-line"},ha={class:"chain-content-detail-item-box-label"},ba={class:"chain-line-beyond",style:{"margin-left":"auto"}},ua={class:"chain-line chain-line-box-version"},ma={class:"chain-content"},va={class:"panel-content-chart"},fa={class:"panel-content-chart-box"},ka={class:"chain-line"},_a={class:"panel-item-child-title"},ja={class:"chain-line"},ga={class:"chain-content-detail-item-box-label"},ya={class:"chain-line-beyond"},xa={class:"chain-line"},wa={class:"chain-content-detail-item-box-label"},$a=["title"],za={class:"chain-line"},Ca={class:"chain-content-detail-item-box-label"},Aa=["title"],Na={class:"chain-line-content"},Ra={class:"panel-content-chart"},Ta={class:"panel-content-chart-box chain-content-table"},Ua={class:"panel-content-table-title panel-item-child-title"},Xa={class:"panel-table"},Ba={class:"panel-content-table"},Da={class:"panel-content-table-page"};var Ia=u({setup(s){const u=m(""),Ia=i(),Pa=o(),qa=m("");u.value=Number(Ia.params.id);const Ha={block_id:"",page:1,limit:10},Oa=v({data:{},header:{},obj:{page:1,limit:10},arr:[]}),Sa=e=>a(this,null,(function*(){const a=yield N.get(`/block_detail/${e}`);0===a.code&&a.data?(qa.value="",Oa.data=a.data,Oa.header=a.data.header):qa.value=a.message})),Ja=e=>a(this,null,(function*(){const a=yield N.post("block_detail_tx_list",e);0===a.code&&a.data&&(Oa.arr=a.data.transactions,Oa.obj.page=a.data.page,Oa.obj.limit=a.data.limit,Oa.obj.total=a.data.total)}));f((()=>{"BlockId"===Ia.name&&Ia.params.id&&(u.value=Number(Ia.params.id),Ha.block_id=u.value,Sa(u.value),Ja(Ha))}));const La=a=>{Ha.page=a,Ja(Ha)},Qa=h();return(a,s)=>{const i=k("router-link"),o=e,h=t,u=l,m=n;return _(),j("div",R,[qa.value?(_(),j("div",T,[U,g("div",null,y(qa.value),1)])):(_(),j("div",X,[x(" block info  "),g("div",B,[g("div",D,[g("div",I,[g("div",P,[g("div",q,[g("span",H,y(a.$t("block.info")),1)]),g("div",O,[g("span",null,y(a.$t("panel.block"))+"：",1),g("span",null,y(w(Oa).header.block_id),1)]),g("div",S,[g("span",J,y(a.$t("panel.generation"))+"：",1),g("div",L,[g("span",null,y(w(c)(w(Oa).header.time)),1),g("span",Q," ( "+y(w(r)(w(Oa).header.time))+" ) ",1)])]),g("div",V,[g("span",null,y(a.$t("block.account"))+"：",1),g("div",E,[w(Oa).header.key_id?(_(),$(i,{key:0,to:{name:"AccountAddress",params:{address:w(Oa).header.key_id}}},{default:z((()=>[g("span",null,y(w(Oa).header.key_id),1)])),_:1},8,["to"])):x("v-if",!0),g("i",{class:"iconfont el-Reproduction panel-content-table-symbol",onClick:s[0]||(s[0]=a=>w(d)(w(Oa).header.key_id))})])]),g("div",F,[g("span",null,y(a.$t("panel.packaging"))+"：",1),g("div",G,[g("span",null,y(w(Oa).header.address),1),g("img",{src:`${w(Qa)}${w(Oa).header.icon_url}`,alt:""},null,8,K)])]),g("div",M,[g("span",W,y(a.$t("block.last"))+"：",1),C(o,{effect:"dark",content:w(Oa).header.pre_hash,placement:"bottom"},{default:z((()=>[g("span",Y,y(w(Oa).header.pre_hash),1)])),_:1},8,["content"])])])])]),x(" block info "),g("div",Z,[g("div",aa,[g("div",ea,[g("div",ta,[g("div",la,[g("div",na,[g("span",sa,y(a.$t("panel.size")),1),g("span",null,y(w(Oa).data.block_size),1)]),ia]),g("div",oa,[g("div",ca,[g("span",null,y(a.$t("block.trans")),1),g("span",null,y(w(p)(String(w(Oa).data.tx_count)))+" "+y(a.$t("block.strip")),1)]),ra])]),g("div",da,[g("div",pa,[g("span",ha,y(a.$t("block.sign"))+"：",1),C(o,{effect:"dark",content:w(Oa).header.sign,placement:"bottom"},{default:z((()=>[g("span",ba,y(w(Oa).header.sign),1)])),_:1},8,["content"])]),g("div",ua,[g("span",null,y(a.$t("block.version"))+"：",1),g("span",null,y(w(Oa).header.version),1)])])])])])]),x(" block content  "),g("div",ma,[g("div",va,[g("div",fa,[g("div",ka,[g("span",_a,y(a.$t("block.content")),1)]),g("div",ja,[g("span",ga,y(a.$t("block.value"))+"：",1),g("span",ya,y(w(Oa).data.hash),1),g("i",{class:"iconfont el-Reproduction",onClick:s[1]||(s[1]=a=>w(d)(w(Oa).data.hash))})]),g("div",xa,[g("span",wa,y(a.$t("block.roll"))+"：",1),x('   <el-tooltip\r\n                :raw-content="true"\r\n                effect="dark"\r\n                :content="blockDetail.data.rollbacks_hash"\r\n                placement="bottom"\r\n              >\r\n                <template #content>\r\n                  <div style="word-wrap: break-word; width: 10%">\r\n                    {{ blockDetail.data.rollbacks_hash }}\r\n                  </div>\r\n                </template> '),g("span",{class:"chain-line-beyond",title:w(Oa).data.rollbacks_hash},y(w(Oa).data.rollbacks_hash),9,$a),x("   </el-tooltip> "),g("i",{class:"iconfont el-Reproduction",onClick:s[2]||(s[2]=a=>w(d)(w(Oa).data.rollbacks_hash))})]),g("div",za,[g("span",Ca,y(a.$t("block.merkel"))+"：",1),x('   <el-tooltip\r\n                effect="dark"\r\n                :content="blockDetail.data.merkle_root"\r\n                placement="bottom"\r\n              > '),g("span",{class:"chain-line-beyond",title:w(Oa).data.merkle_root},y(w(Oa).data.merkle_root),9,Aa),x("  </el-tooltip> "),g("i",{class:"iconfont el-Reproduction",onClick:s[3]||(s[3]=a=>w(d)(w(Oa).data.merkle_root))})]),g("div",Na,[g("div",null,[g("span",null,y(a.$t("block.trans"))+"：",1),g("span",null,y(w(Oa).data.tx_count),1)]),g("div",null,[g("span",null,y(a.$t("panel.size"))+"：",1),g("span",null,y(w(Oa).data.block_size),1)]),g("div",null,[g("span",null,y(a.$t("block.hash"))+"：",1),g("span",null,y(w(Oa).data.tx_total_size),1)])])])])]),x(" block details list "),g("div",Ra,[g("div",Ta,[g("div",Ua,y(a.$t("block.affair")),1),g("div",Xa,[g("div",Ba,[C(u,{data:w(Oa).arr,stripe:"",style:{width:"100%"},"show-header":!1},{default:z((()=>[C(h,{label:a.$t("panel.thash"),"show-overflow-tooltip":""},{default:z((a=>["UTXO_Tx"===a.row.contract_name||"UTXO_Transfer"===a.row.contract_name?(_(),$(i,{key:0,to:{name:"HashUtxo",params:{value:a.row.hash}}},{default:z((()=>[A(y(a.row.hash),1)])),_:2},1032,["to"])):a.row.hash?(_(),$(i,{key:1,to:{name:"HashValue",params:{value:a.row.hash}}},{default:z((()=>[A(y(a.row.hash),1)])),_:2},1032,["to"])):x("v-if",!0)])),_:1},8,["label"]),C(h,{label:a.$t("panel.transactions")},{default:z((a=>[g("span",null,y(a.row.contract_name),1)])),_:1},8,["label"]),C(h,{label:a.$t("panel.generation")},{default:z((a=>[g("span",null,y(w(b)(a.row.time)),1)])),_:1},8,["label"]),C(h,{label:a.$t("panel.rewardAddress")},{default:z((a=>[a.row.key_id?(_(),$(i,{key:0,to:{name:"AccountAddress",params:{address:a.row.key_id}}},{default:z((()=>[g("span",null,y(a.row.key_id),1)])),_:2},1032,["to"])):x("v-if",!0)])),_:1},8,["label"]),C(h,null,{default:z((a=>[g("span",null,y(a.row.size),1)])),_:1}),C(h,null,{default:z((a=>[g("span",null,y(a.row.ecosystemname),1)])),_:1})])),_:1},8,["data"])])]),g("div",Da,[C(m,{small:"",background:"","hide-on-single-page":"","pager-count":w(Pa)?5:11,layout:"prev, pager, next","current-page":Number(w(Oa).obj.page),"page-size":w(Oa).obj.limit,total:Number(w(Oa).obj.total),onCurrentChange:La},null,8,["pager-count","current-page","page-size","total"])])])])]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/chain/block/blockId.vue"]]);export{Ia as default};
