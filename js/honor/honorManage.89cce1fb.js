import{j as e,M as a}from"../element-plus/element-plus.33684f86.js";import"../vue/vue.f1679ee2.js";import{_ as t}from"../node/node.8b7398ea.js";import{b as n,g as s,i,a as l,l as o}from"../../assets/index.39033d6d.js";import{u as c}from"../vue-router/vue-router.2e4e5314.js";import{_ as d}from"../vue-qr/vue-qr.811c440f.js";import{q as r,d as m,X as p,w as v,a0 as u,o as g,c as b,u as h,a as j,U as f,L as y,P as x,Q as _,S as k,a4 as w,M as A,a3 as C}from"../@vue/@vue.43bf68a9.js";import"../@vueuse/@vueuse.f1890054.js";import"../@element-plus/@element-plus.0865cea0.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@intlify/@intlify.d33e2919.js";import"../@ctrl/@ctrl.17547d95.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.4f18ce48.js";import"../vuex/vuex.df607009.js";import"../axios/axios.3ae77db0.js";import"../dayjs/dayjs.206dce34.js";import"../echarts/echarts.1c1b7efd.js";import"../zrender/zrender.c7ccb335.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.fd53ebfa.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.08c7aea6.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const M={class:"node-vote"},P={key:0,class:"data-box"},S=j("img",{src:t,alt:"node"},null,-1),q={key:1,class:"node-vote"},z={class:"node-vote-title panel-item-child-title"},T={class:"node-manage"},$={key:0,class:"node-manage-box"},D={class:"panel-content-chart"},I={class:"panel-content-chart-box"},N=j("div",{class:"node-manage-item"},"voting",-1),Q={class:"node-manage-item"},V=j("span",{class:"chain-content-detail-item-box-label"},"Type",-1),X={class:"node-manage-item"},B=j("span",{class:"chain-content-detail-item-box-label"},"Status",-1),F={class:"node-manage-item"},J=j("span",{class:"chain-content-detail-item-box-label"},"Vote count type",-1),L={class:"node-manage-item"},O=j("span",{class:"chain-content-detail-item-box-label"},"Filled",-1),R={class:"node-manage-item"},U=j("span",{class:"chain-content-detail-item-box-label"},"Decision",-1),E={class:"node-manage-item"},G=j("span",{class:"chain-content-detail-item-box-label"},"Date start",-1),H={class:"chain-account-item-symbol"},K={class:"node-manage-item"},W=j("span",{class:"chain-content-detail-item-box-label"},"Date end",-1),Y={class:"chain-account-item-symbol"},Z={class:"node-manage-item"},ee=j("span",{class:"chain-content-detail-item-box-label"},"Quorum",-1),ae={key:0},te={class:"node-manage-item"},ne=j("span",{class:"chain-content-detail-item-box-label"},"Volume",-1),se={class:"node-manage-item"},ie=j("span",null,"Participants",-1),le={class:"node-manage-item"},oe=j("span",{class:"chain-content-detail-item-box-label"},"Creator",-1),ce={class:"node-manage-item node-manage-item-member"},de=j("span",{class:"chain-content-detail-item-box-label"},"Member",-1),re={class:"node-manage-item-member-link"},me={class:"node-manage-right"},pe={class:"panel-content-chart"},ve={class:"panel-content-chart-box"},ue={class:"node-manage-item"},ge={class:"node-manage-item"},be=j("span",{class:"chain-content-detail-item-box-label"},"Contract_acce",-1),he={class:"node-manage-item"},je=j("span",{class:"chain-content-detail-item-box-label"},"Arguments",-1),fe={class:"chain-json"},ye={class:"node-manage-item"},xe=j("span",null,"Contract_reject",-1),_e={class:"node-manage-item"},ke=j("span",null,"Type decision",-1),we={class:"node-manage-ring"},Ae={class:"node-manage-ring-item"},Ce={class:"node-manage-ring-item-title"},Me={class:"chain-account-item-symbol"},Pe={class:"node-manage-ring-item-content"},Se={class:"node-manage-ring-item"},qe={class:"node-manage-ring-item-title"},ze={class:"chain-account-item-symbol"},Te={class:"node-manage-ring-item-content"},$e={class:"node-manage-ring-item"},De={class:"node-manage-ring-item-title"},Ie={class:"chain-account-item-symbol"},Ne={class:"node-manage-ring-item-content"},Qe={class:"node-manage-ring-item"},Ve=j("div",{class:"node-manage-ring-item-title"},"Progress",-1),Xe={class:"node-manage-ring-item-content"};var Be=d({setup(t){const d=c(),Be=r("axios"),Fe=m(""),Je=p({data:null,voting:null}),Le=p({copyText:n("block.copy"),copiedText:n("block.copied"),timeout:2e3}),Oe=m(1),Re={search:1,language:"en"},Ue=e=>{return a=this,t=null,n=function*(){const a=yield Be.post("dao_vote_detail",e);0===a.code?(Je.data=a.data,Je.voting=a.data.voting,Je.subject=a.data.voting_subject):Fe.value=a.message},new Promise(((e,s)=>{var i=e=>{try{o(n.next(e))}catch(a){s(a)}},l=e=>{try{o(n.throw(e))}catch(a){s(a)}},o=a=>a.done?e(a.value):Promise.resolve(a.value).then(i,l);o((n=n.apply(a,t)).next())}));var a,t,n};return v((()=>{if(d.params.id){Oe.value=d.params.id;const e=localStorage.getItem("lang");e&&(Re.language=e),Re.search=Number(Oe.value),Ue(Re)}})),(t,n)=>{const c=u("router-link"),d=e,r=u("json-viewer"),m=a;return g(),b("div",M,[h(Je).data?(g(),b("div",q,[j("div",z,f(t.$t("node.detailManage")),1),j("div",T,[h(Je).voting?(g(),b("div",$,[j("div",D,[j("div",I,[N,j("div",Q,[V,j("span",null,f(h(Je).voting.type),1)]),j("div",X,[B,j("span",null,f(h(Je).voting.status),1)]),j("div",F,[J,j("span",null,f(h(Je).voting.vote_count_type),1)]),y('  <div class="node-manage-item">\r\n                <span class="chain-content-detail-item-box-label">Rating</span>\r\n                <span>{{ dao.voting.vote_count_type }}</span>\r\n              </div> '),j("div",L,[O,j("span",null,f(h(Je).voting.filled),1)]),j("div",R,[U,j("span",null,f(h(Je).voting.decision),1)]),j("div",E,[G,j("div",null,[j("span",null,f(h(s)(h(Je).voting.date_start)),1),j("span",H,"("+f(h(i)(h(Je).voting.date_start))+")",1)])]),j("div",K,[W,j("div",null,[j("span",null,f(h(s)(h(Je).voting.date_end)),1),j("span",Y,"("+f(h(i)(h(Je).voting.date_end))+")",1)])]),j("div",Z,[ee,j("div",null,[j("span",null,f(h(Je).voting.quorum),1),1!==h(Je).voting.count_type_voters?(g(),b("span",ae,"%")):y("v-if",!0)])]),j("div",te,[ne,j("span",null,f(h(Je).voting.volume)+"%",1)]),j("div",se,[ie,j("span",null,f(h(l)(String(h(Je).voting.participants))),1)]),j("div",le,[oe,h(Je).voting.creator?(g(),x(c,{key:0,to:{name:"AccountAddress",params:{address:h(Je).voting.creator}}},{default:_((()=>[j("span",null,f(h(Je).voting.creator),1)])),_:1},8,["to"])):y("v-if",!0)]),j("div",ce,[de,k(d,{"max-height":"200px"},{default:_((()=>[j("div",re,[(g(!0),b(A,null,C(h(Je).voting.member,((e,a)=>(g(),x(c,{key:a,to:{name:"AccountAddress",params:{address:e}}},{default:_((()=>[j("span",null,f(e),1),y('  <span\r\n                      v-if="index !== dao.voting.member.length - 1"\r\n                      class="chain-account-item-symbol"\r\n                      >,</span\r\n                    > ')])),_:2},1032,["to"])))),128))])])),_:1})])])])])):y("v-if",!0),j("div",me,[j("div",pe,[j("div",ve,[j("div",ue,f(h(Je).data.title),1),j("div",ge,[be,j("span",null,f(h(Je).subject.contract_accept),1)]),j("div",he,[je,j("div",fe,[k(d,{"max-height":"400px"},{default:_((()=>[k(r,{value:""===h(Je).subject.arguments?"":JSON.parse(h(Je).subject.arguments),"expand-depth":5,copyable:h(Le),boxed:"",sort:"",onCopied:h(o)},null,8,["value","copyable","onCopied"])])),_:1})])]),j("div",ye,[xe,j("span",null,f(h(Je).subject.contract_of_reject),1)]),j("div",_e,[ke,j("span",null,f(h(Je).data.type_decision),1)])])]),j("div",we,[j("div",Ae,[j("div",Ce,[j("span",null,f(t.$t("panel.voting")),1),j("span",Me,"("+f(h(Je).data.agree+h(Je).data.rejected)+")",1)]),j("div",Pe,[k(m,{type:"circle",percentage:h(Je).data.voted_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",Se,[j("div",qe,[w(f(t.$t("panel.pass"))+" ",1),j("span",ze,"("+f(h(Je).data.agree)+")",1)]),j("div",Te,[k(m,{type:"circle",percentage:h(Je).data.result_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",$e,[j("div",De,[w(f(t.$t("panel.reject"))+" ",1),j("span",Ie,"("+f(h(Je).data.rejected)+")",1)]),j("div",Ne,[k(m,{type:"circle",percentage:h(Je).data.rejected_rate,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])]),j("div",Qe,[Ve,j("div",Xe,[k(m,{type:"circle",percentage:h(Je).data.progress,width:80,"stroke-width":10,color:"#5ebc93","stroke-linecap":"butt"},null,8,["percentage"])])])])])])])):(g(),b("div",P,[S,j("div",null,f(Fe.value),1)]))])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/node/honor/honorManage.vue"]]);export{Be as default};
