import e from"../dist/html2canvas.1285d1cf.js";import{E as t}from"../jspdf/jspdf.330a9a43.js";import{b as a,s as o}from"../../assets/index.a447fd96.js";const n=()=>[{command:"a",label:a("ecolib.png")},{command:"b",label:a("ecolib.jpeg")},{command:"c",label:a("ecolib.pdf")}],d=()=>{const e=o();return"dark"===e?"#2B3B4C":"light"===e?"#fff":"#2B3B4C"},i=(t,a,o,n)=>{var i=new Image;let s=n.getDataURL({type:"png",pixelRatio:1,backgroundColor:d()});if(i.src=s,"c"!==t){let e="a"===t?"png":"jpeg";i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0);var o=t.toDataURL(`image/${e}`),n=document.createElement("a"),d=new MouseEvent("click");n.download=`${a}.${e}`||`name.${e}`,n.href=o,n.dispatchEvent(d)}}else e(document.querySelector(`#${o}`),{async:!0,imageTimeout:5e3,backgroundColor:d()}).then((e=>{const t=e.width,o=e.height,n=592.28*t/841.89,d=o,i=841.89/t*o;c(e.toDataURL("image/jpeg",1),d,n,841.89,i,0,a)}))},c=(e,a,o,n,d,i,c)=>{var s=new t("l","pt");if(a<o)s.addImage(e,"jpeg",0,0,n,d);else for(;a>0;)s.addImage(e,"jpeg",0,i,n,d),i-=595.28,(a-=o)>0&&s.addPage();s.output("save",c)},s=e=>{const t=new Image;let a=e.getDataURL({type:"png",pixelRatio:1,backgroundColor:d()});t.src=a;const o=document.createElement("canvas");o.width=t.width,o.height=t.height;o.getContext("2d").drawImage(t,0,0);o.toDataURL("image/png");setTimeout((()=>{var e=document.createElement("IFRAME"),t=null;e.setAttribute("style","position:absolute;width:0px;height:0px;left:-500px;top:-500px;"),document.body.appendChild(e),(t=e.contentWindow.document).write(`<div><img src="${a}" style="width: 100%;"/></div>`),t.close(),e.contentWindow.focus(),e.contentWindow.print(),navigator.userAgent.indexOf("MSIE")>0&&document.body.removeChild(e)}),1e3)};export{i as a,s as b,n as h};
