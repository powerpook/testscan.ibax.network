var a=(a,e,t)=>new Promise(((l,s)=>{var o=a=>{try{c(t.next(a))}catch(e){s(e)}},i=a=>{try{c(t.throw(a))}catch(e){s(e)}},c=a=>a.done?l(a.value):Promise.resolve(a.value).then(o,i);c((t=t.apply(a,e)).next())}));import{B as e,C as t,J as l}from"../element-plus/element-plus.33684f86.js";import{P as s}from"../PrintChart/PrintChart.3952f52b.js";import"../vue/vue.f1679ee2.js";import{u as o,a as i}from"../vue-router/vue-router.2e4e5314.js";import{x as c,e as n,k as r,r as d,b as u,d as p,c as m,a as h,y as b}from"../../assets/index.fb9db0ab.js";import{_ as v}from"../vue-qr/vue-qr.811c440f.js";import{q as f,d as g,X as y,w as _,a0 as k,o as w,c as j,a as $,U as x,S as A,L as O,M as P,u as C,Q as N,P as S,V as z,a4 as L,H as F}from"../@vue/@vue.43bf68a9.js";import"../@vueuse/@vueuse.f1890054.js";import"../@element-plus/@element-plus.0865cea0.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@intlify/@intlify.d33e2919.js";import"../@ctrl/@ctrl.17547d95.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../chartProcess/chartProcess.0ecdc409.js";import"../dist/html2canvas.1285d1cf.js";import"../jspdf/jspdf.330a9a43.js";import"../@babel/@babel.fd5c2a4f.js";import"../fflate/fflate.f62025b3.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.4f18ce48.js";import"../vuex/vuex.df607009.js";import"../axios/axios.3ae77db0.js";import"../dayjs/dayjs.206dce34.js";import"../echarts/echarts.1c1b7efd.js";import"../zrender/zrender.c7ccb335.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.fd53ebfa.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.08c7aea6.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";const B={class:"chain"},E={class:"panel-content-chart"},J={class:"panel-content-chart-box"},H={class:"panel-content-chart-box-title"},X={key:0,id:"coincharts",class:"ecolib-charts-item-line",style:{height:"70vh"}},q=$("div",{id:"addresschart",class:"ecolib-charts-item-line"},null,-1),I={class:"panel-table"},M={class:"panel-content-table"},G={key:0},V={class:"panel-content-table-symbol"},W={class:"panel-content-table-symbol"},D=$("span",{class:"panel-content-table-symbol"},"% ",-1),Q=$("div",{id:"addchart",class:"ecolib-charts-item-line"},null,-1),U={class:"panel-table"},K={class:"panel-content-table"},R={key:0},T={class:"panel-content-table-symbol"},Y=$("span",{class:"panel-content-table-symbol"},"% ",-1),Z={key:3,id:"gaschart",class:"ecolib-charts-item-line"},aa=$("div",{id:"tranchart",class:"ecolib-charts-item-line"},null,-1),ea={class:"panel-table"},ta={class:"panel-content-table"},la={class:"panel-content-table-page"},sa={key:5,id:"keychart",class:"ecolib-charts-item-line"},oa={key:6,id:"activechart",class:"ecolib-charts-item-line"},ia={key:7,id:"transaction",class:"ecolib-charts-item-line"},ca={key:8,id:"storage",class:"ecolib-charts-item-line"},na={key:9,id:"gasFeeChart",class:"ecolib-charts-item-line"};var ra=v({setup(v){const ra=f("axios"),da=f("isMobile"),ua=g(""),pa=o(),ma=i(),ha=[1,2,3,4,5,6,7,8,9,10],ba=g(1),va=g(1),fa=g("coincharts"),ga=g(""),ya=c(),_a=e=>a(this,null,(function*(){const a=yield ra({method:"get",url:`eco_chart/get_circulations/${e}`});if(0===a.code){const{change:t}=a.data;ua.value=a.data.name;const l=t.time.map((a=>a)),s=t.circulations.map((a=>d(a)));let o={},i=[];if(1===e){const e=[s,t.stake_amount.map((a=>d(a))),t.freeze_amount.map((a=>d(a))),t.nft_balance_supply.map((a=>d(a)))];o={xAxis:l,legend:[u("panel.cirb"),u("panel.circ"),u("panel.cird"),u("ecolib.stay")],series:e};const c=[{name:u("panel.cirb"),key:"circulations"},{name:u("panel.circ"),key:"stake_amount"},{name:u("panel.cird"),key:"freeze_amount"},{name:u("ecolib.stay"),key:"nft_balance_supply"}];i=c.map((e=>({name:e.name,value:d(a.data[e.key])})))}else{const e=[s,t.burning_tokens.map((a=>d(a))),t.combustion.map((a=>d(a)))];o={xAxis:l,legend:[u("panel.cirb"),u("ecolib.dest"),u("ecolib.burn")],series:e};const c=[{name:u("panel.cirb"),key:"circulations"},{name:u("ecolib.dest"),key:"burning_tokens"},{name:u("ecolib.burn"),key:"combustion"}];i=c.map((e=>({name:e.name,value:d(a.data[e.key])})))}ga.value=`${u("ecolib.coinchart")} (${a.data.token_symbol})`,F((()=>{p.handleLineArea("coincharts",ga.value,o,!0),p.coincharts.setOption({legend:{bottom:"5%"},grid:{top:"50%",containLabel:!0},series:{type:"pie",id:"pie",radius:"30%",center:["50%","25%"],data:i,label:{color:ya,fontSize:12,fontFamily:"Chakra Petch Light"},tooltip:{trigger:"item",position:"right"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})}))}})),ka=y({data:[]}),wa=b(),ja=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_has_token/${e}`);if(0===a.code&&a.data.list.length){const e=a.data.list.length;ua.value=a.data.name;const t=JSON.parse(JSON.stringify(wa)).splice(0,e),l=[],s=a.data.list.map(((e,s)=>(e.color=t[s],e.token_symbol=a.data.token_symbol,l.push({name:e.account,value:e.accounted_for}),e)));ka.data=s,ga.value=`${u("ecolib.addresschart")} (%)`,F((()=>{da?(p.handleEchartPie(l,ga.value,"30%","addresschart",!0),p.addresschart.setOption({legend:{top:30,itemWidth:15,itemHeight:10,itemGap:5,textStyle:{fontSize:10}},series:[{center:["50%","75%"]}]})):p.handleEchartPie(l,ga.value,"40%","addresschart",!0)}))}})),$a=y({data:[]}),xa=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_tx_account/${e}`);if(0===a.code&&a.data.list.length){ua.value=a.data.name;const e=a.data.list.length,t=JSON.parse(JSON.stringify(wa)).splice(0,e),l=[],s=a.data.list.map(((e,s)=>(e.color=t[s],e.token_symbol=a.data.token_symbol,l.push({name:e.account,value:e.accounted_for}),e)));$a.data=s,ga.value=`${u("ecolib.addchart")} (%)`,F((()=>{da?(p.handleEchartPie(l,ga.value,"30%","addchart",!0),p.addchart.setOption({legend:{top:30,itemWidth:15,itemHeight:10,itemGap:5,textStyle:{fontSize:10}},series:[{center:["50%","75%"]}]})):p.handleEchartPie(l,ga.value,"50%","addchart",!0)}))}})),Aa=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_gas_fee/${e}`);if(0===a.code){ua.value=a.data.name;const e=a.data.time;let t=[];if(a.data.basis_gas_amount){const l=a.data.basis_gas_amount;let s=a.data.eco_gas_amount.map(((a,t)=>[m(e[t]),d(a),d(l[t])]));t={legend:[u("ecolib.gasmount"),u("ecolib.amount")],series:[s]}}else{let l=a.data.eco_gas_amount.map(((a,t)=>[m(e[t]),d(a)]));t={legend:[],series:[l]}}ga.value=`${u("ecolib.gaschart")} (${a.data.token_symbol})`,F((()=>{p.handleEchartBarData(t,ga.value,"gaschart",!0)}))}})),Oa=y({data:[],page:1,limit:10,total:1}),Pa={ecosystem:ba.value,page:1,limit:10,order:"block desc",search:"chart"},Ca=e=>a(this,null,(function*(){const a=yield ra.post("get_eco_detail_tx",e);0===a.code&&(Oa.data=a.data.list,Oa.page=a.data.page,Oa.limit=a.data.limit,Oa.total=a.data.total)})),Na=a=>{Pa.page=a,Ca(Pa)},Sa=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_tx_amount/${e}`);if(0===a.code){ua.value=a.data.name;const e={xAxis:a.data.time.map((a=>m(a))),legend:[],series:[a.data.amount.map((a=>d(a)))]};ga.value=`${u("ecolib.tranchart")} (${a.data.token_symbol})`,F((()=>{p.handleLineArea("tranchart",ga.value,e,!0)}))}})),za=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_new_key/${e}`);if(0===a.code){ua.value=a.data.name;const e={xAxis:a.data.time.map((a=>m(a))),legend:[],series:[a.data.new_key]};ga.value=`${u("ecolib.addnew")}`,F((()=>{p.handleLineArea("keychart",ga.value,e,!0)}))}})),La=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_active_key/${e}`);if(0===a.code){ua.value=a.data.name;const e={xAxis:a.data.time.map((a=>m(a))),legend:[],series:[a.data.active_key]};ga.value=`${u("ecolib.activechart")}`,F((()=>{p.handleLineArea("activechart",ga.value,e,!0)}))}})),Fa=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_transaction/${e}`);if(0===a.code){ua.value=a.data.name;const e={xAxis:a.data.time.map((a=>m(a))),legend:[],series:[a.data.tx]};ga.value=`${u("ecolib.hashchart")}`,F((()=>{p.handleLineArea("transaction",ga.value,e,!0)}))}})),Ba=e=>a(this,null,(function*(){const a=yield ra.get(`eco_chart/get_storage_capacity/${e}`);if(0===a.code){ua.value=a.data.name;const e={xAxis:a.data.time.map((a=>m(a))),legend:[],series:[a.data.storage_capacitys]};ga.value=`${u("ecolib.savechart")} (MB)`,F((()=>{p.handleLineArea("storage",ga.value,e,!0)}))}})),Ea=e=>a(this,null,(function*(){const a=yield ra.get(`/eco_chart/get_gas_combustion_pie/${e}`),t=yield ra.get(`/eco_chart/get_gas_combustion_line/${e}`);if(0===a.code){ua.value=a.data.name,ga.value=`${u("chart.gasfee")}`;const e=a.data.token_symbol;let l=[{name:u("chart.get"),key:"gas_fee"},{name:u("chart.burn"),key:"combustion"}].map((e=>({name:e.name,value:d(a.data[e.key])})));const s=[t.data.gas_fee.map((a=>d(a))),t.data.combustion.map((a=>d(a)))],o={xAxis:t.data.time,legend:[u("chart.get"),u("chart.burn")],series:s};F((()=>{p.handleLineArea("gasFeeChart",ga.value,o,!0),p.gasFeeChart.setOption({legend:{bottom:"5%"},grid:{top:"50%",containLabel:!0},series:{type:"pie",id:"pie",radius:"30%",center:["50%","25%"],data:l,label:{color:ya,fontSize:12,fontFamily:"Chakra Petch Light"},tooltip:{trigger:"item",position:"right",valueFormatter:function(a){return`${h(a)} ${e}`}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})}))}}));return _((()=>{const a=Object.prototype.hasOwnProperty.call(pa.params,"id"),e=Object.prototype.hasOwnProperty.call(pa.params,"type");if(a&&e){const{id:a,type:e}=pa.params;if(ha.includes(Number(e)))switch(Pa.ecosystem=ba.value=Number(a),va.value=Number(e),Number(e)){case 1:default:fa.value="coincharts",_a(ba.value);break;case 2:fa.value="addresschart",ja(ba.value);break;case 3:fa.value="addchart",xa(ba.value);break;case 4:fa.value="gaschart",Aa(ba.value);break;case 5:fa.value="tranchart",Ca(Pa),Sa(ba.value);break;case 6:fa.value="keychart",za(ba.value);break;case 7:fa.value="activechart",La(ba.value);break;case 8:fa.value="transaction",Fa(ba.value);break;case 9:fa.value="storage",Ba(ba.value);break;case 10:fa.value="gasFeeChart",Ea(ba.value)}else ma.push({name:"NotFound"})}})),(a,o)=>{const i=s,c=k("router-link"),d=e,u=t,p=l;return w(),j("div",B,[$("div",E,[$("div",J,[$("div",H,[$("span",null,x(a.$t("panel.eName"))+"ï¼š",1),$("span",null,x(ua.value),1)]),A(i,{id:fa.value,title:ga.value},null,8,["id","title"]),1===va.value?(w(),j("div",X)):O("v-if",!0),2===va.value?(w(),j(P,{key:1},[q,$("div",I,[$("div",M,[A(u,{data:C(ka).data,stripe:"",style:{width:"100%"}},{default:N((()=>[A(d,{label:a.$t("address.account"),"show-overflow-tooltip":""},{default:N((a=>["Other"===a.row.account?(w(),j("span",G,x(a.row.account),1)):(w(),S(c,{key:1,to:{name:"AccountAddress",params:{address:a.row.account}}},{default:N((()=>[$("span",{style:z({background:a.row.color}),class:"ecolib-charts-item-mark"},null,4),$("span",null,x(a.row.account),1)])),_:2},1032,["to"]))])),_:1},8,["label"]),A(d,{label:a.$t("account.hold"),"show-overflow-tooltip":""},{default:N((a=>[$("span",null,x(C(n)(a.row.amount)),1),$("span",V,x(a.row.token_symbol),1)])),_:1},8,["label"]),A(d,{label:a.$t("account.cash"),"show-overflow-tooltip":""},{default:N((a=>[$("span",null,x(C(n)(a.row.stake_amount)),1),$("span",W,x(a.row.token_symbol),1)])),_:1},8,["label"]),A(d,{label:a.$t("panel.proportion"),"show-overflow-tooltip":""},{default:N((a=>[$("span",null,x(a.row.accounted_for),1),D])),_:1},8,["label"])])),_:1},8,["data"])])])],64)):O("v-if",!0),3===va.value?(w(),j(P,{key:2},[Q,$("div",U,[$("div",K,[A(u,{data:C($a).data,stripe:"",style:{width:"100%"}},{default:N((()=>[A(d,{label:a.$t("address.account"),"show-overflow-tooltip":""},{default:N((a=>["Other"===a.row.account?(w(),j("span",R,x(a.row.account),1)):(w(),S(c,{key:1,to:{name:"AccountAddress",params:{address:a.row.account}}},{default:N((()=>[$("span",{style:z({background:a.row.color}),class:"ecolib-charts-item-mark"},null,4),$("span",null,x(a.row.account),1)])),_:2},1032,["to"]))])),_:1},8,["label"]),A(d,{label:a.$t("ecolib.deal"),"show-overflow-tooltip":""},{default:N((a=>[$("span",null,x(C(n)(a.row.amount)),1),$("span",T,x(a.row.token_symbol),1)])),_:1},8,["label"]),A(d,{label:a.$t("panel.proportion"),"show-overflow-tooltip":""},{default:N((a=>[$("span",null,x(a.row.accounted_for),1),Y])),_:1},8,["label"])])),_:1},8,["data"])])])],64)):O("v-if",!0),4===va.value?(w(),j("div",Z)):O("v-if",!0),5===va.value?(w(),j(P,{key:4},[aa,$("div",ea,[$("div",ta,[A(u,{data:C(Oa).data,stripe:"",style:{width:"100%"}},{default:N((()=>[A(d,{label:a.$t("account.hash"),"show-overflow-tooltip":""},{default:N((a=>[a.row.hash?(w(),S(c,{key:0,to:{name:"HashValue",params:{value:a.row.hash}}},{default:N((()=>[L(x(a.row.hash),1)])),_:2},1032,["to"])):O("v-if",!0)])),_:1},8,["label"]),A(d,{label:a.$t("panel.block")},{default:N((a=>[a.row.block_id?(w(),S(c,{key:0,to:{name:"BlockId",params:{id:a.row.block_id}}},{default:N((()=>[$("span",null,x(a.row.block_id),1)])),_:2},1032,["to"])):O("v-if",!0)])),_:1},8,["label"]),A(d,{label:a.$t("account.time")},{default:N((a=>[$("span",null,x(C(r)(a.row.time)),1)])),_:1},8,["label"]),A(d,{label:a.$t("account.conact"),prop:"contract"},null,8,["label"]),A(d,{label:a.$t("account.send"),"show-overflow-tooltip":""},{default:N((a=>[a.row.address?(w(),S(c,{key:0,to:{name:"AccountAddress",params:{address:a.row.address}}},{default:N((()=>[$("span",null,x(a.row.address),1)])),_:2},1032,["to"])):O("v-if",!0)])),_:1},8,["label"])])),_:1},8,["data"])])]),$("div",la,[A(p,{small:"",background:"","hide-on-single-page":"",layout:"prev, pager, next","pager-count":C(da)?5:11,"current-page":Number(C(Oa).page),"page-size":Number(C(Oa).limit),total:Number(C(Oa).total),onCurrentChange:Na},null,8,["pager-count","current-page","page-size","total"])])],64)):O("v-if",!0),6===va.value?(w(),j("div",sa)):O("v-if",!0),7===va.value?(w(),j("div",oa)):O("v-if",!0),8===va.value?(w(),j("div",ia)):O("v-if",!0),9===va.value?(w(),j("div",ca)):O("v-if",!0),10===va.value?(w(),j("div",na)):O("v-if",!0)])])])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/ecolibs/ecolibIdChart.vue"]]);export{ra as default};
