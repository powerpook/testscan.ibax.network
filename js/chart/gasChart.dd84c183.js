var a=(a,e,t)=>new Promise(((s,r)=>{var l=a=>{try{i(t.next(a))}catch(e){r(e)}},o=a=>{try{i(t.throw(a))}catch(e){r(e)}},i=a=>a.done?s(a.value):Promise.resolve(a.value).then(l,o);i((t=t.apply(a,e)).next())}));import{B as e,C as t,J as s}from"../element-plus/element-plus.d5c2709d.js";import"../vue/vue.f1679ee2.js";import{_ as r}from"../logo-big/logo-big.d89e87b5.js";import{b as l,c as o,q as i,d as n,e as c,a as p,f as d}from"../../assets/index.803d13ea.js";import{P as m}from"../PrintChart/PrintChart.4dd4eafe.js";import{_ as u}from"../vue-qr/vue-qr.811c440f.js";import{d as b,q as f,X as g,a0 as h,o as v,c as j,a as y,S as _,u as w,Q as x,H as k,P as C,U as $,L as N}from"../@vue/@vue.43bf68a9.js";import"../@vueuse/@vueuse.f1890054.js";import"../@element-plus/@element-plus.ef54b136.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../@intlify/@intlify.d33e2919.js";import"../@ctrl/@ctrl.17547d95.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../vue-axios/vue-axios.0d80ef0e.js";import"../decimal.js/decimal.js.77638b52.js";import"../vue-clipboard3/vue-clipboard3.f8057bcc.js";import"../clipboard/clipboard.eec53070.js";import"../vue-i18n/vue-i18n.4f18ce48.js";import"../vuex/vuex.df607009.js";import"../axios/axios.3ae77db0.js";import"../vue-router/vue-router.2e4e5314.js";import"../dayjs/dayjs.206dce34.js";import"../echarts/echarts.1c1b7efd.js";import"../zrender/zrender.c7ccb335.js";import"../tslib/tslib.e35f93b8.js";import"../echarts-gl/echarts-gl.fd53ebfa.js";import"../claygl/claygl.59c2afb1.js";import"../centrifuge/centrifuge.c0d375ba.js";import"../vue-json-viewer/vue-json-viewer.08c7aea6.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../js-binary-schema-parser/js-binary-schema-parser.f718aa23.js";import"../chartProcess/chartProcess.cd13b7d8.js";import"../dist/html2canvas.1285d1cf.js";import"../jspdf/jspdf.330a9a43.js";import"../@babel/@babel.fd5c2a4f.js";import"../fflate/fflate.f62025b3.js";const P={class:"chain"},z={class:"panel-content-chart"},q=y("div",{class:"panel-content-chart-box"},[y("div",{id:"gasCharts",class:"ecolib-charts-item-line"})],-1),A={class:"panel-content-chart"},B={class:"panel-content-chart-box panel-content-table"},E=y("div",{id:"barCharts",class:"ecolib-charts-item-line"},null,-1),H={class:"panel-content-table"},X={class:"chain-line-logo"},D=["src"],I={key:1,src:r,alt:"logo"},J={key:2,class:"iconfont el-a-Ecology1"},L={class:"chain-account-item-symbol"},O=y("span",{class:"panel-content-table-symbol"},"%",-1),Q={class:"panel-content-table-page"};var S=u({setup(r){const u=d(),S=b("gasCharts"),U=b("barCharts"),F=b(`${l("chart.gas")} (${l("page.symbol")})`),G=b(l("chart.honor")),K=f("axios");(()=>{a(this,null,(function*(){const a=yield K.get("get_gas_fee_chart");if(0===a.code){const e=a.data.time,t={legend:[],series:[a.data.gas_fee.map(((a,t)=>[o(e[t]),i(a)]))]};k((()=>{n.handleEchartBarData(t,F.value,"gasCharts",!0)}))}}))})();const M={page:1,limit:10},R=g({arr:[],pageNum:{page:1,limit:10,total:1}}),T=e=>a(this,null,(function*(){const a=yield K.post("get_honor_node_chart",e);if(0===a.code){var t={value:a.data.node_block,yAxis:a.data.name};R.arr=a.data.list,R.pageNum.page=a.data.page,R.pageNum.limit=a.data.limit,R.pageNum.total=a.data.total,k((()=>{n.handleEchartsHorBar(G.value,t,"barCharts",!1);n.barCharts.setOption({tooltip:{trigger:"axis",show:!0,formatter:a=>a[0].name+`<br/> ${l("hash.num")}ï¼š`+a[0].value,axisPointer:{type:"shadow"}}})}))}}));T(M);const V=a=>{M.page=a,T(M)};return(a,r)=>{const l=h("router-link"),o=e,i=t,n=s;return v(),j("div",P,[y("div",z,[_(m,{id:S.value,title:F.value},null,8,["id","title"]),q]),y("div",A,[_(m,{id:U.value,title:G.value},null,8,["id","title"]),y("div",B,[E,y("div",H,[_(i,{data:w(R).arr,stripe:"",style:{width:"100%"}},{default:x((()=>[_(o,{label:a.$t("nav.node")},{default:x((a=>[a.row.key_id?(v(),C(l,{key:0,to:{name:"AccountAddress",params:{address:a.row.key_id}}},{default:x((()=>[y("span",null,$(a.row.key_id),1)])),_:2},1032,["to"])):N("v-if",!0)])),_:1},8,["label"]),_(o,{label:a.$t("node.country")},{default:x((a=>[y("span",X,[a.row.logo_url?(v(),j("img",{key:0,src:`${w(u)}${a.row.icon_url}`,alt:"logo"},null,8,D)):1===a.row.id?(v(),j("img",I)):(v(),j("i",J)),y("span",null,$(a.row.city),1)])])),_:1},8,["label"]),_(o,{label:a.$t("panel.gas")},{default:x((e=>[y("span",null,$(w(c)(e.row.gas_fee)),1),y("span",L,$(a.$t("page.symbol")),1)])),_:1},8,["label"]),_(o,{label:a.$t("chart.package")},{default:x((a=>[y("span",null,$(w(p)(a.row.node_blocks)),1)])),_:1},8,["label"]),_(o,{label:a.$t("node.package")},{default:x((a=>[y("span",null,$(a.row.pkg_accounted_for),1),O])),_:1},8,["label"])])),_:1},8,["data"]),y("div",Q,[_(n,{small:"",background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":Number(w(R).pageNum.page),"page-size":Number(w(R).pageNum.limit),total:Number(w(R).pageNum.total),onCurrentChange:V},null,8,["current-page","page-size","total"])])])])])])}}},[["__file","C:/gitrepo/lib.venas.io/IBAX/scan.ibax.io/src/pages/chart/gasChart.vue"]]);export{S as default};
